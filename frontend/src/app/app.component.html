<div [ngClass]="isDarkMode ? 'flex flex-col min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white' 
                            : 'flex flex-col min-h-screen bg-gray-200 text-gray-800'">

  <!-- Header -->
  <header [ngClass]="isDarkMode ? 'bg-gray-900 border-b border-gray-700 shadow-lg' : 'bg-white border-b border-gray-200 shadow-md'"
          class="sticky top-0 z-50 transition-colors duration-300">
    <div class="container mx-auto px-4 py-3">
      <div class="flex items-center justify-between">

        <!-- Logo -->
        <div class="flex items-center space-x-3">
          <div [ngClass]="isDarkMode ? 'p-2 bg-indigo-600' : 'p-2 bg-indigo-400'" class="rounded-lg transition-colors duration-300">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
          </div>
          <div>
            <h1 class="text-xl md:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400">
              Employee Management System
            </h1>
            <p [ngClass]="isDarkMode ? 'text-gray-400' : 'text-gray-600'" class="text-xs mt-1 hidden sm:block transition-colors duration-300">
              Streamlined workforce administration
            </p>
          </div>
        </div>

        <!-- Desktop status and version -->
        <div class="hidden md:flex items-center space-x-4">
          <div class="flex items-center space-x-2" [ngClass]="isDarkMode ? 'text-gray-300' : 'text-gray-700'">
            <div class="h-2 w-2 rounded-full bg-green-500 animate-pulse"></div>
            <span class="text-sm">System Online</span>
          </div>

          <!-- Dark/Light Mode Button - Improved with better icons -->
          <button (click)="toggleDarkMode()"
                  class="flex items-center px-3 py-2 rounded-full transition-all duration-300 group relative"
                  [ngClass]="isDarkMode ? 'bg-indigo-800 hover:bg-indigo-700 text-yellow-200' : 'bg-yellow-100 hover:bg-yellow-200 text-indigo-800'"
                  [attr.aria-label]="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'">
            <!-- Sun icon for light mode -->
            <svg *ngIf="!isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300 group-hover:rotate-45" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 01-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd" />
            </svg>
            
            <!-- Moon with stars for dark mode -->
            <svg *ngIf="isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 20 20" fill="currentColor">
              <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
              <path d="M14.121 5.121a3 3 0 00-4.242 4.242" stroke="currentColor" stroke-width="0.5" fill="none" />
              <path d="M16.243 7.757a3 3 0 00-4.242-4.242" stroke="currentColor" stroke-width="0.5" fill="none" />
            </svg>
            
            <span class="text-xs ml-1">{{ isDarkMode ? 'Light' : 'Dark' }}</span>
          </button>

          <span [ngClass]="isDarkMode ? 'bg-indigo-900 text-indigo-200' : 'bg-indigo-100 text-indigo-800'" 
                class="px-3 py-1 rounded-full text-xs font-medium transition-colors duration-300">
            v2.1
          </span>
        </div>

        <!-- Mobile menu button -->
        <button (click)="isMobileMenuOpen = !isMobileMenuOpen"
                class="md:hidden p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"
                [ngClass]="isDarkMode ? 'text-gray-400 hover:text-white hover:bg-gray-700' : 'text-gray-700 hover:text-gray-900 hover:bg-gray-200'"
                aria-label="Toggle menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
               stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  [attr.d]="isMobileMenuOpen ? 'M6 18L18 6M6 6l12 12' : 'M4 6h16M4 12h16M4 18h16'" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile menu -->
    <div [ngClass]="isDarkMode ? 'bg-gray-800 border-t border-gray-700' : 'bg-white border-t border-gray-200'" 
         class="md:hidden transition-all duration-300 ease-in-out" [class.hidden]="!isMobileMenuOpen">
      <div class="container mx-auto px-4 py-3">
        <div class="flex flex-col space-y-3">
          <a routerLink="/dashboard" routerLinkActive="text-indigo-500 bg-gray-200"
             [routerLinkActiveOptions]="{ exact: true }" (click)="isMobileMenuOpen = false"
             [ngClass]="isDarkMode ? 'text-gray-300 hover:text-indigo-300 hover:bg-gray-700' : 'text-gray-700 hover:text-indigo-500 hover:bg-gray-100'"
             class="py-2 px-4 rounded-md font-medium flex items-center transition-all duration-300">
            <div class="p-1 rounded-md bg-indigo-400/10 mr-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
              </svg>
            </div>
            Dashboard
          </a>
          <a routerLink="/employees" routerLinkActive="text-indigo-500 bg-gray-200"
             (click)="isMobileMenuOpen = false"
             [ngClass]="isDarkMode ? 'text-gray-300 hover:text-indigo-300 hover:bg-gray-700' : 'text-gray-700 hover:text-indigo-500 hover:bg-gray-100'"
             class="py-2 px-4 rounded-md font-medium flex items-center transition-all duration-300">
            <div class="p-1 rounded-md bg-indigo-400/10 mr-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
            </div>
            Employees
          </a>
          <a routerLink="/add-employee" routerLinkActive="text-indigo-500 bg-gray-200"
             (click)="isMobileMenuOpen = false"
             [ngClass]="isDarkMode ? 'text-gray-300 hover:text-indigo-300 hover:bg-gray-700' : 'text-gray-700 hover:text-indigo-500 hover:bg-gray-100'"
             class="py-2 px-4 rounded-md font-medium flex items-center transition-all duration-300">
            <div class="p-1 rounded-md bg-indigo-400/10 mr-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
              </svg>
            </div>
            Add Employee
          </a>
          <div class="pt-2 mt-2 border-t border-gray-700 flex items-center justify-between">
            <div class="flex items-center space-x-2 text-gray-300">
              <div class="h-2 w-2 rounded-full bg-green-500 animate-pulse"></div>
              <span class="text-sm">System Online</span>
            </div>
            <button (click)="toggleDarkMode()"
                  class="flex items-center px-3 py-2 rounded-full transition-all duration-300 group relative"
                  [ngClass]="isDarkMode ? 'bg-indigo-800 hover:bg-indigo-700 text-yellow-200' : 'bg-yellow-100 hover:bg-yellow-200 text-indigo-800'"
                  [attr.aria-label]="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'">
            <!-- Sun icon for light mode -->
            <svg *ngIf="!isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300 group-hover:rotate-45" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 01-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd" />
            </svg>
            
            <!-- Moon with stars for dark mode -->
            <svg *ngIf="isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 20 20" fill="currentColor">
              <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
              <path d="M14.121 5.121a3 3 0 00-4.242 4.242" stroke="currentColor" stroke-width="0.5" fill="none" />
              <path d="M16.243 7.757a3 3 0 00-4.242-4.242" stroke="currentColor" stroke-width="0.5" fill="none" />
            </svg>
            
            <span class="text-xs ml-1">{{ isDarkMode ? 'Light' : 'Dark' }}</span>
          </button>
            <span class="bg-indigo-900 text-indigo-200 px-2 py-1 rounded-full text-xs font-medium">v2.1</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Desktop Navigation - Improved with better styling -->
  <nav [ngClass]="isDarkMode ? 'bg-gray-800 border-b border-gray-700 shadow-md' : 'bg-gray-100 border-b border-gray-200 shadow-sm'" class="hidden md:block transition-colors duration-300">
    <div class="container mx-auto px-4">
      <div class="flex space-x-1">
        <!-- Dashboard -->
        <a routerLink="/dashboard" routerLinkActive="border-indigo-400 text-indigo-400 bg-gray-750"
           [routerLinkActiveOptions]="{ exact: true }"
           [ngClass]="isDarkMode ? 'text-gray-400 hover:text-indigo-300 hover:border-indigo-400' : 'text-gray-700 hover:text-indigo-500 hover:border-indigo-400'"
           class="py-3 px-4 border-b-2 border-transparent font-medium flex items-center transition-all duration-300 group relative">
          <div class="p-1 rounded-md mr-2" [ngClass]="isDarkMode ? 'group-hover:bg-indigo-400/10' : 'group-hover:bg-indigo-200/50'">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
            </svg>
          </div>
          Dashboard
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-indigo-400 transition-all duration-300 group-hover:w-full"></span>
        </a>

        <!-- Employees -->
        <a routerLink="/employees" routerLinkActive="border-indigo-400 text-indigo-400 bg-gray-750"
           [ngClass]="isDarkMode ? 'text-gray-400 hover:text-indigo-300 hover:border-indigo-400' : 'text-gray-700 hover:text-indigo-500 hover:border-indigo-400'"
           class="py-3 px-4 border-b-2 border-transparent font-medium flex items-center transition-all duration-300 group relative">
          <div class="p-1 rounded-md mr-2" [ngClass]="isDarkMode ? 'group-hover:bg-indigo-400/10' : 'group-hover:bg-indigo-200/50'">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
          </div>
          Employees
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-indigo-400 transition-all duration-300 group-hover:w-full"></span>
        </a>

        <!-- Add Employee -->
        <a routerLink="/add-employee" routerLinkActive="border-indigo-400 text-indigo-400 bg-gray-750"
           [ngClass]="isDarkMode ? 'text-gray-400 hover:text-indigo-300 hover:border-indigo-400' : 'text-gray-700 hover:text-indigo-500 hover:border-indigo-400'"
           class="py-3 px-4 border-b-2 border-transparent font-medium flex items-center transition-all duration-300 group relative">
          <div class="p-1 rounded-md mr-2" [ngClass]="isDarkMode ? 'group-hover:bg-indigo-400/10' : 'group-hover:bg-indigo-200/50'">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
            </svg>
          </div>
          Add Employee
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-indigo-400 transition-all duration-300 group-hover:w-full"></span>
        </a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex-grow px-2 py-6 md:py-8 w-full transition-colors duration-300">
    <div class="mx-auto w-full max-w-[95vw] h-full">
      <router-outlet></router-outlet>
    </div>
  </main>

  <!-- Footer -->
  <footer [ngClass]="isDarkMode ? 'bg-gray-900 border-t border-gray-700' : 'bg-white border-b border-gray-200 shadow-md'" class="py-6 transition-colors duration-300">
    <div class="container mx-auto px-4 text-center">
      <p [ngClass]="isDarkMode ? 'text-gray-400' : 'text-gray-600'" class="text-sm transition-colors duration-300">
        © {{ currentYear }} Employee Management System. All rights reserved.
      </p>
    </div>
  </footer>
</div>